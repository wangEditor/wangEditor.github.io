/*! wangEditor.js 2016-01-16 */
!function(a){var b=a.jQuery;return b&&b.fn&&b.fn.jquery?a.___EXT?void(a.wangEditor||alert("请不要对 window.___EXT 赋值，否则无法使用 wangEditor")):void(a.___EXT=function(c){var d=a.wangEditor;d&&c(d,b)}):void alert("在引用wangEditor.js之前，先引用jQuery，否则无法使用 wangEditor")}(window),function(a,b){if(!a.wangEditor){var c=function(a){var c=b("#"+a);if(1===c.length){var d=c[0].nodeName;("TEXTAREA"===d||"DIV"===d)&&(this.valueNodeName=d.toLowerCase(),this.$valueContainer=c,this.init())}};c.fn=c.prototype,c.$body=b("body"),c.$window=b(a),c.getComputedStyle=a.getComputedStyle,c.w3cRange="function"==typeof document.createRange,c.website="wangEditor.github.io",a.wangEditor=c}}(window,window.jQuery),window.___EXT(function(a,b){a.fn.init=function(){this.initDefaultConfig(),this.addEditorContainer(),this.addTxt(),this.addMenuContainer(),this.menus={},this.commandHooks()}}),window.___EXT(function(a,b){a.fn.ready=function(a){this.readyFns||(this.readyFns=[]),this.readyFns.push(a)},a.fn.readyHeadler=function(){for(var a=this.readyFns;a.length;)a.shift().call(this)},a.fn.updateValue=function(){var a=this,b=a.$valueContainer,c=a.valueNodeName,d=a.txt.$txt.html();"div"===c?b.html(d):"textarea"===c&&b.val(d)},a.fn.getInitValue=function(){var a=this,b=a.$valueContainer,c="",d=a.valueNodeName;return"div"===d?c=b.html():"textarea"===d&&(c=b.val()),c},a.fn.updateMenuStyle=function(){var a=this.menus;b.each(a,function(a,b){b.updateSelected()})},a.fn.enableMenusExcept=function(a){a=a||[],"string"==typeof a&&(a=[a]),b.each(this.menus,function(b,c){a.indexOf(b)>=0||c.disabled(!1)})},a.fn.disableMenusExcept=function(a){a=a||[],"string"==typeof a&&(a=[a]),b.each(this.menus,function(b,c){a.indexOf(b)>=0||c.disabled(!0)})},a.fn.hideDropPanelAndModal=function(){var a=this.menus;b.each(a,function(a,b){var c=b.dropPanel||b.dropList||b.modal;c&&c.hide&&c.hide()})}}),window.___EXT(function(a,b){function c(){}var d=!a.w3cRange;a.fn.currentRange=function(a){return a?void(this._rangeData=a):this._rangeData},a.fn.collapseRange=function(a,b){b=b||"end",b="start"===b?!0:!1,a=a||this.currentRange(),a.collapse(b),this.currentRange(a)},a.fn.getRangeText=d?c:function(a){return(a=a||this.currentRange())?a.toString():void 0},a.fn.getRangeElem=d?c:function(a){a=a||this.currentRange();var b=a.commonAncestorContainer;return 1===b.nodeType?b:b.parentNode},a.fn.isRangeEmpty=d?c:function(a){return a=a||this.currentRange(),a&&a.startContainer&&a.startContainer===a.endContainer&&a.startOffset===a.endOffset?!0:!1},a.fn.saveSelection=d?c:function(a){var b,c,d=this,e=d.txt.$txt.get(0);a?b=a.commonAncestorContainer:(c=document.getSelection(),c.getRangeAt&&c.rangeCount&&(a=document.getSelection().getRangeAt(0),b=a.commonAncestorContainer)),b&&(e.contains(b)||e===b)&&d.currentRange(a)},a.fn.restoreSelection=d?c:function(a){var b;a=a||this.currentRange(),a&&(b=document.getSelection(),b.removeAllRanges(),b.addRange(a))},a.fn.restoreSelectionByElem=d?c:function(a,b){a&&(b=b||"end",this.setRangeByElem(a),"start"===b&&this.collapseRange(this.currentRange(),"start"),"end"===b&&this.collapseRange(this.currentRange(),"end"),this.restoreSelection())},a.fn.initSelection=d?c:function(){var a=this;if(!a.currentRange()){var b=a.txt.$txt,c=b.children().first();c.length&&a.restoreSelectionByElem(c.get(0))}},a.fn.setRangeByElem=d?c:function(a){var b=this,c=b.txt.$txt.get(0);if(a&&c.contains(a)){for(var d=a.firstChild;d&&3!==d.nodeType;)d=d.firstChild;for(var e=a.lastChild;e&&3!==e.nodeType;)e=e.lastChild;var f=document.createRange();d&&e?(f.setStart(d,0),f.setEnd(e,e.textContent.length)):(f.setStart(a,0),f.setEnd(a,0)),b.saveSelection(f)}}}),window.___EXT(function(a,b){a.w3cRange||(a.fn.getRangeText=function(a){return(a=a||this.currentRange())?a.text:void 0},a.fn.getRangeElem=function(a){if(a=a||this.currentRange()){var b=a.parentElement();return 1===b.nodeType?b:b.parentNode}},a.fn.isRangeEmpty=function(a){return a=a||this.currentRange(),a&&a.text?!1:!0},a.fn.saveSelection=function(a){var b,c=this,d=c.txt.$txt.get(0);a?b=a.parentElement():(a=document.selection.createRange(),b="undefined"==typeof a.parentElement?null:a.parentElement()),b&&(d.contains(b)||d===b)&&c.currentRange(a)},a.fn.restoreSelection=function(a){var b,c=this;if(a=a||c.currentRange()){b=document.selection.createRange();try{b.setEndPoint("EndToEnd",a)}catch(d){}0===a.text.length?b.collapse(!1):b.setEndPoint("StartToStart",a),b.select()}})}),window.___EXT(function(a,b){a.fn.commandHooks=function(){var a=this,c={};c.insertHtml=function(c){var d,e=b(c),f=a.getRangeElem();d=a.getLegalTags(f),d&&b(d).after(e)},a.commandHooks=c}}),window.___EXT(function(a,b){a.fn.command=function(a,b,c,d){function e(){b&&(g.queryCommandSupported(b)?document.execCommand(b,!1,c):(f=g.commandHooks,b in f&&f[b](c)))}var f,g=this;this.customCommand(a,e,d)},a.fn.commandForElem=function(a,b,c,d,e){var f,g;"string"==typeof a?f=a:(f=a.selector,g=a.check);var h=this.getRangeElem();h=this.getSelfOrParentByName(h,f,g),h&&this.setRangeByElem(h),this.command(b,c,d,e)},a.fn.customCommand=function(a,b,c){function d(){e.hideDropPanelAndModal()}var e=this,f=e.currentRange();return f?(this.restoreSelection(f),b.call(e),this.saveSelection(),this.restoreSelection(),c&&"function"==typeof c&&c.call(e),e.txt.insertEmptyP(),e.updateValue(),e.updateMenuStyle(),setTimeout(d,200),void(a&&a.preventDefault())):void(a&&a.preventDefault())},a.fn.queryCommandValue=function(a){var b="";try{b=document.queryCommandValue(a)}catch(c){}return b},a.fn.queryCommandState=function(a){var b=!1;try{b=document.queryCommandState(a)}catch(c){}return b},a.fn.queryCommandSupported=function(a){var b=!1;try{b=document.queryCommandSupported(a)}catch(c){}return b}}),window.___EXT(function(a,b){function c(a){var c=this,d=b(a),e=!1;return d.each(function(){return this===c?(e=!0,!1):void 0}),e}var d;a.fn.getLegalTags=function(b){var c=a.config.legalTags;return c?this.getSelfOrParentByName(b,c):void a.error("配置项中缺少 legalTags 的配置")},a.fn.getSelfOrParentByName=function(a,b,e){if(a&&b){d||(d=a.webkitMatchesSelector||a.mozMatchesSelector||a.oMatchesSelector||a.matchesSelector),d||(d=c);for(var f=this.txt.$txt.get(0);a&&f.contains(a);){if(d.call(a,b)){if(!e)return a;if(e(a))return a}a=a.parentNode}}}}),window.___EXT(function(a,b){a.fn.create=function(){this.addMenus(),this.renderMenus(),this.renderMenuContainer(),this.renderTxt(),this.renderEditorContainer(),this.eventMenus(),this.eventMenuContainer(),this.eventTxt(),this.readyHeadler(),this.initSelection()}}),window.___EXT(function(a,b){var c=function(a){this.editor=a,this.init()};c.fn=c.prototype,a.MenuContainer=c}),window.___EXT(function(a,b){var c=a.MenuContainer;c.fn.init=function(){var a=this,c=b('<div class="wangEditor-menu-container clearfix"></div>');a.$menuContainer=c}}),window.___EXT(function(a,b){var c=a.MenuContainer;c.fn.render=function(){var a=this.$menuContainer,b=this.editor.$editorContainer;b.append(a)},c.fn.height=function(){var a=this.$menuContainer;return a.height()},c.fn.appendMenu=function(a,b){return this._addGroup(a),this._addOneMenu(b)},c.fn._addGroup=function(a){var c,d=this.$menuContainer;this.$currentGroup&&this.currentGroupIdx===a||(c=b('<div class="menu-group clearfix"></div>'),d.append(c),this.$currentGroup=c,this.currentGroupIdx=a)},c.fn._addOneMenu=function(a){var c=a.$domNormal,d=a.$domSelected,e=this.$currentGroup,f=b('<div class="menu-item clearfix"></div>');return d.hide(),f.append(c).append(d),e.append(f),f}}),window.___EXT(function(a,b){var c=function(a){this.editor=a.editor,this.id=a.id,this.title=a.title,this.commandName=a.commandName,this.commandValue=a.commandValue,this.commandNameSelected=a.commandNameSelected||a.commandName,this.commandValueSelected=a.commandValueSelected||a.commandValue};c.fn=c.prototype,a.Menu=c}),window.___EXT(function(a,b){var c=a.Menu;c.fn.initUI=function(){var c=this.editor,d=c.UI.menus,e=this.id,f=d[e];null==f&&(a.warn('editor.UI配置中，没有菜单 "'+e+'" 的UI配置，只能取默认值'),f=d["default"]),this.$domNormal=b(f.normal),/^\./.test(f.selected)?this.$domSelected=this.$domNormal.clone().addClass(f.selected.slice(1)):this.$domSelected=b(f.selected)}}),window.___EXT(function(a,b){var c=a.Menu;c.fn.render=function(a){this.initUI();var b=this.editor,c=b.menuContainer,d=c.appendMenu(a,this);this._renderTip(d)},c.fn._renderTip=function(a){function c(){g.show()}function d(){g.hide()}var e=this,f=e.title,g=b('<div class="menu-tip"></div>');f&&f.length<=2&&g.addClass("menu-tip-40"),f&&3===f.length&&g.addClass("menu-tip-50"),g.append(f),a.append(g);var h;a.find("a").on("mouseenter",function(a){e.active()||e.disabled()||(h=setTimeout(c,200))}).on("mouseleave",function(a){h&&clearTimeout(h),d()}).on("click",d)},c.fn.bindEvent=function(){var b=this,c=b.$domNormal,d=b.$domSelected,e=b.clickEvent;e||(e=function(c){var d=b.dropPanel||b.dropList||b.modal;if(d&&d.show)return void(d.isShowing?d.hide():d.show());var e,f,g=b.editor,h=b.selected;h?(e=b.commandNameSelected,f=b.commandValueSelected):(e=b.commandName,f=b.commandValue),e?g.command(c,e,f):(a.warn('菜单 "'+b.id+'" 未定义click事件'),c.preventDefault())});var f=b.clickEventSelected||e;c.click(function(a){b.disabled()||e.call(b,a),a.preventDefault()}),d.click(function(a){b.disabled()||f.call(b,a),a.preventDefault()})},c.fn.updateSelected=function(){var a=this,b=(a.editor,a.updateSelectedEvent);b||(b=function(){var a=this,b=a.editor,c=a.commandName,d=a.commandValue;if(d){if(b.queryCommandValue(c).toLowerCase()===d.toLowerCase())return!0}else if(b.queryCommandState(c))return!0;return!1});var c=b.call(a);c=!!c,a.changeSelectedState(c)},c.fn.changeSelectedState=function(a){var b=this,c=b.selected;if(null!=a&&"boolean"==typeof a){if(c===a)return;b.selected=a,a?(b.$domNormal.hide(),b.$domSelected.show()):(b.$domNormal.show(),b.$domSelected.hide())}},c.fn.active=function(a){return null==a?this._activeState:void(this._activeState=a)},c.fn.activeStyle=function(a){var b=(this.selected,this.$domNormal),c=this.$domSelected;a?(b.addClass("active"),c.addClass("active")):(b.removeClass("active"),c.removeClass("active")),this.active(a)},c.fn.disabled=function(a){if(null==a)return!!this._disabled;if(this._disabled!==a){var b=this.$domNormal,c=this.$domSelected;a?(b.addClass("disable"),c.addClass("disable")):(b.removeClass("disable"),c.removeClass("disable")),this._disabled=a}}}),window.___EXT(function(a,b){var c=function(a,b,c){this.editor=a,this.menu=b,this.data=c.data,this.tpl=c.tpl,this.selectorForELemCommand=c.selectorForELemCommand,this.init()};c.fn=c.prototype,a.DropList=c}),window.___EXT(function(a,b){var c=a.DropList;c.fn.init=function(){var a=this;a.initDOM(),a.bindEvent(),a.initHideEvent()},c.fn.initDOM=function(){var a,c,d=this,e=d.data,f=d.tpl||"<span>{#title}</span>",g=b('<div class="wangEditor-drop-list clearfix"></div>');b.each(e,function(d,e){a=f.replace(/{#commandValue}/gi,d).replace(/{#title}/gi,e),c=b('<a href="#" commandValue="'+d+'"></a>'),c.append(a),g.append(c)}),d.$list=g},c.fn.bindEvent=function(){var a=this,c=a.editor,d=a.menu,e=d.commandName,f=a.selectorForELemCommand,g=a.$list;g.on("click","a[commandValue]",function(a){var g=b(a.currentTarget).attr("commandValue");d.selected&&c.isRangeEmpty()&&f?c.commandForElem(f,a,e,g):c.command(a,e,g)})},c.fn.initHideEvent=function(){var b=this,c=b.$list.get(0);a.$body.on("click",function(a){var d,e=a.target,f=b.menu;d=f.selected?f.$domSelected.get(0):f.$domNormal.get(0),d===e||d.contains(e)||c===e||c.contains(e)||b.hide()})}}),window.___EXT(function(a,b){var c=a.DropList;c.fn._render=function(){var a=this,b=a.editor,c=a.$list;b.$editorContainer.append(c),a.rendered=!0},c.fn._position=function(){var a=this,b=a.$list,c=a.editor,d=a.menu,e=d.selected?d.$domSelected:d.$domNormal,f=e.offsetParent().position(),g=f.top,h=f.left,i=e.offsetParent().height(),j=e.offsetParent().width(),k=b.outerWidth(),l=c.txt.$txt.outerWidth(),m=g+i,n=h+j/2,o=0-j/2,p=n+k-l;p>-10&&(o=o-p-10),b.css({top:m,left:n,"margin-left":o})},c.fn.show=function(){var a=this,b=a.menu;if(a.rendered||a._render(),!a.isShowing){var c=a.$list;c.show(),a._position(),a.isShowing=!0,b.activeStyle(!0)}},c.fn.hide=function(){var a=this,b=a.menu;if(a.isShowing){var c=a.$list;c.hide(),a.isShowing=!1,b.activeStyle(!1)}}}),window.___EXT(function(a,b){var c=function(a,b,c){this.editor=a,this.menu=b,this.$content=c.$content,this.width=c.width||200,this.height=c.height,this.init()};c.fn=c.prototype,a.DropPanel=c}),window.___EXT(function(a,b){var c=a.DropPanel;c.fn.init=function(){var a=this;a.initDOM(),a.initHideEvent()},c.fn.initDOM=function(){var a=this,c=a.$content,d=a.width,e=a.height,f=b('<div class="wangEditor-drop-panel clearfix"></div>'),g=b('<div class="tip-triangle"></div>');f.css({width:d,height:e?e:"auto"}),f.append(g),f.append(c),a.$panel=f,a.$triangle=g},c.fn.initHideEvent=function(){var b=this,c=b.$panel.get(0);a.$body.on("click",function(a){var d,e=a.target,f=b.menu;d=f.selected?f.$domSelected.get(0):f.$domNormal.get(0),d===e||d.contains(e)||c===e||c.contains(e)||b.hide()})}}),window.___EXT(function(a,b){var c=a.DropPanel;c.fn._render=function(){var a=this,b=a.editor,c=a.$panel;b.$editorContainer.append(c),a.rendered=!0},c.fn._position=function(){var a=this,b=a.$panel,c=a.$triangle,d=a.editor,e=a.menu,f=e.selected?e.$domSelected:e.$domNormal,g=f.offsetParent().position(),h=g.top,i=g.left,j=f.offsetParent().height(),k=f.offsetParent().width(),l=b.outerWidth(),m=d.txt.$txt.outerWidth(),n=h+j,o=i+k/2,p=0-l/2,q=p;0-p>o-10&&(p=0-(o-10));var r=o+l+p-m;r>-10&&(p=p-r-10),b.css({top:n,left:o,"margin-left":p}),q!==p&&c.css({"margin-left":q-p-5})},c.fn.focusFirstInput=function(){var a=this,c=a.$panel;c.find("input[type=text]").each(function(){var a=b(this);return null==a.attr("disabled")?(a.focus(),!1):void 0})},c.fn.show=function(){var b=this,c=b.menu;if(b.rendered||b._render(),!b.isShowing){var d=b.$panel;d.show(),b._position(),b.isShowing=!0,c.activeStyle(!0),a.w3cRange?b.focusFirstInput():a.placeholderForIE8(d)}},c.fn.hide=function(){var a=this,b=a.menu;if(a.isShowing){var c=a.$panel;c.hide(),a.isShowing=!1,b.activeStyle(!1)}}}),window.___EXT(function(a,b){var c=function(){};c.fn=c.prototype,a.Modal=c}),window.___EXT(function(a,b){var c=function(a){this.editor=a,this.init()};c.fn=c.prototype,a.Txt=c}),window.___EXT(function(a,b){var c=a.Txt;c.fn.init=function(){var a=this,c=a.editor,d=c.getInitValue(),e=b('<div class="wangEditor-txt" contentEditable="true">'+d+"</div>");c.ready(function(){a.insertEmptyP()}),a.$txt=e,a.bindImgEvent(),a.contentEmptyHandle(),a.bindEnterEvent()},c.fn.bindImgEvent=function(){function c(){console.log("focus",f.attr("src"))}function d(){console.log("blur",f.attr("src")),f=void 0}function e(a){var c=!1;return b.each(j,function(d,e){var f=!1;return b.each(e.imgs,function(b,d){return a===d?(c=!0,f=!0,!1):void 0}),f?!1:void 0}),c}var f,g=this,h=g.editor,i=g.$txt,j=h.config.emotions;i.on("click","img",function(a){var g=b(a.currentTarget),h=g.attr("src");h&&!e(h)&&(f&&f.attr("src")===h?d():(f=g,c()),a.preventDefault())}),a.$body.on("click",function(a){})},c.fn.contentEmptyHandle=function(){var a,c=this,d=c.editor,e=c.$txt;e.on("keyup",function(c){8===c.keyCode&&(b.trim(e.html())||(a=b("<p><br/></p>"),e.append(a),d.restoreSelectionByElem(a.get(0))))})},c.fn.bindEnterEvent=function(){function c(){if(d){var a=b("<p>"+d.html()+"</p>");d.after(a),d.remove()}}var d,e=(a.config.legalTags,this),f=e.editor,g=e.$txt;g.on("keydown keyup",function(a){if(13===a.keyCode){var e,g,h=f.getRangeElem(),i=f.getLegalTags(h);i||(i=f.getSelfOrParentByName(h,"div"),e=b(i),"keydown"===a.type&&(d=e,setTimeout(c,0)),"keyup"===a.type&&(g=b("<p>"+e.html()+"</p>"),e.after(g),e.remove(),f.restoreSelectionByElem(g.get(0),"start")))}})}}),window.___EXT(function(a,b){var c=a.Txt,d="propertychange change click keyup input paste";c.fn.render=function(){var a=this.$txt,b=this.editor.$editorContainer;b.append(a)},c.fn.initHeight=function(){var a=this.editor,b=a.$valueContainer.height(),c=a.menuContainer.height(),d=b-c;d=50>d?50:d,this.$txt.height(d)},c.fn.saveSelectionEvent=function(){var a=this.$txt,b=this.editor;a.on(d+" focus blur",function(a){b.saveSelection()}),a.on("mousedown",function(){a.on("mouseleave.saveSelection",function(a){b.saveSelection(),b.updateMenuStyle()})}).on("mouseup",function(){a.off("mouseleave.saveSelection")})},c.fn.updateValueEvent=function(){var a=this.$txt,b=this.editor;a.on(d,function(a){b.updateValue()})},c.fn.updateMenuStyleEvent=function(){var a=this.$txt,b=this.editor;a.on(d,function(a){b.updateMenuStyle()})},c.fn.insertEmptyP=function(){var a=this.$txt,c=a.children();return 0===c.length?void a.append(b("<p><br></p>")):void("<br>"!==c.last().html()&&a.append(b("<p><br></p>")))},c.fn.showHeightOnHover=function(){function a(a){f||(d.append(e),f=!0);var b=a.height(),c=a.position().top,g=d.scrollTop(),h=parseInt(a.css("margin-top"),10),i=parseInt(a.css("padding-top"),10),j=parseInt(a.css("margin-bottom"),10),k=parseInt(a.css("padding-bottom"),10);e.css({height:b+i+h+k+j,top:c+g})}function c(){f&&(e.remove(),f=!1)}var d=this.$txt,e=b('<i class="height-tip"><i>'),f=!1;d.on("mouseenter","ul,ol,blockquote,p,h1,h2,h3,h4,h5,table",function(c){a(b(c.currentTarget))}).on("mouseleave",function(){c()})}}),window.___EXT(function(a,b){Array.prototype.indexOf||(Array.prototype.indexOf=function(a){for(var b=0,c=this.length;c>b;b++)if(this[b]===a)return b;return-1},Array.prototype.lastIndexOf=function(a){var b=this.length;for(b-=1;b>=0;b--)if(this[b]===a)return b;return-1}),Date.now||(Date.now=function(){return(new Date).valueOf()});var c=window.console,d=function(){};b.each(["info","log","warn","error"],function(b,e){null==c?a[e]=d:a[e]=function(a){c[e]("wangEditor提示: "+a)}}),a.random=function(){return Math.random().toString().slice(2)},a.placeholder="placeholder"in document.createElement("input"),a.placeholderForIE8=function(c){a.placeholder||c.find("input[placeholder]").each(function(){var a=b(this),c=a.attr("placeholder");""===a.val()&&(a.css("color","#666"),a.val(c),a.on("focus.placeholder click.placeholder",function(){a.val(""),a.css("color","#333"),a.off("focus.placeholder click.placeholder")}))})}}),window.___EXT(function(a,b){a.langs={},a.langs.zhn={bold:"粗体",underline:"下划线",italic:"斜体",forecolor:"文字颜色",bgcolor:"背景色",strikethrough:"删除线",eraser:"清空格式",source:"源码",quote:"引用",fontfamily:"字体",fontsize:"字号",head:"标题",orderlist:"有序列表",unorderlist:"无序列表",alignleft:"左对齐",aligncenter:"居中",alignright:"右对齐",link:"链接",text:"文本",submit:"提交",cancel:"取消",unlink:"取消链接",table:"表格",emotion:"表情",img:"图片",vedio:"视频",width:"宽",height:"高",location:"位置",loading:"加载中",searchlocation:"搜索位置",dynamicMap:"动态地图",clearLocation:"清除位置",langDynamicOneLocation:"动态地图只能显示一个位置"}}),window.___EXT(function(a,b){a.config={},a.config.legalTags="p,h1,h2,h3,h4,h5,h6,blockquote,table,ul,ol",a.config.lang=a.langs.zhn,a.config.menus=["source","|","bold","underline","italic","strikethrough","eraser","forecolor","bgcolor","|","quote","fontfamily","fontsize","head","unorderlist","orderlist","alignleft","aligncenter","alignright","|","link","unlink","table","emotion","|","img","vedio","location"],a.config.colors={"#880000":"暗红色","#800080":"紫色","#ff0000":"红色","#ff00ff":"鲜粉色","#000080":"深蓝色","#0000ff":"蓝色","#00ffff":"湖蓝色","#008080":"蓝绿色","#008000":"绿色","#808000":"橄榄色","#00ff00":"浅绿色","#ffcc00":"橙黄色","#808080":"灰色","#c0c0c0":"银色","#000000":"黑色","#ffffff":"白色"},a.config.familys=["宋体","黑体","楷体","微软雅黑","Arial","Verdana","Georgia","Times New Roman","Microsoft JhengHei","Trebuchet MS","Courier New","Impact","Comic Sans MS"],a.config.fontsizes={1:"10px",2:"13px",3:"16px",4:"19px",5:"22px",6:"25px",7:"28px"},a.config.emotions={"default":{title:"默认",size:18,imgs:["http://wangeditor.github.io/expressions/1.gif","http://wangeditor.github.io/expressions/2.gif","http://wangeditor.github.io/expressions/3.gif","http://wangeditor.github.io/expressions/4.gif","http://wangeditor.github.io/expressions/5.gif","http://wangeditor.github.io/expressions/6.gif","http://wangeditor.github.io/expressions/7.gif","http://wangeditor.github.io/expressions/8.gif","http://wangeditor.github.io/expressions/9.gif","http://wangeditor.github.io/expressions/10.gif","http://wangeditor.github.io/expressions/11.gif","http://wangeditor.github.io/expressions/12.gif","http://wangeditor.github.io/expressions/13.gif","http://wangeditor.github.io/expressions/14.gif","http://wangeditor.github.io/expressions/15.gif","http://wangeditor.github.io/expressions/16.gif","http://wangeditor.github.io/expressions/17.gif","http://wangeditor.github.io/expressions/18.gif","http://wangeditor.github.io/expressions/19.gif","http://wangeditor.github.io/expressions/20.gif","http://wangeditor.github.io/expressions/21.gif","http://wangeditor.github.io/expressions/22.gif","http://wangeditor.github.io/expressions/23.gif","http://wangeditor.github.io/expressions/24.gif","http://wangeditor.github.io/expressions/25.gif","http://wangeditor.github.io/expressions/26.gif","http://wangeditor.github.io/expressions/27.gif","http://wangeditor.github.io/expressions/28.gif","http://wangeditor.github.io/expressions/29.gif","http://wangeditor.github.io/expressions/30.gif","http://wangeditor.github.io/expressions/31.gif","http://wangeditor.github.io/expressions/32.gif","http://wangeditor.github.io/expressions/33.gif","http://wangeditor.github.io/expressions/34.gif","http://wangeditor.github.io/expressions/35.gif","http://wangeditor.github.io/expressions/36.gif","http://wangeditor.github.io/expressions/37.gif","http://wangeditor.github.io/expressions/38.gif","http://wangeditor.github.io/expressions/39.gif","http://wangeditor.github.io/expressions/40.gif","http://wangeditor.github.io/expressions/41.gif","http://wangeditor.github.io/expressions/42.gif","http://wangeditor.github.io/expressions/43.gif","http://wangeditor.github.io/expressions/44.gif","http://wangeditor.github.io/expressions/45.gif","http://wangeditor.github.io/expressions/46.gif","http://wangeditor.github.io/expressions/47.gif","http://wangeditor.github.io/expressions/48.gif","http://wangeditor.github.io/expressions/49.gif","http://wangeditor.github.io/expressions/50.gif"]},jinxing:{title:"金星",size:50,imgs:["../static/emotions/jinxing/1.gif","../static/emotions/jinxing/2.gif","../static/emotions/jinxing/3.gif","../static/emotions/jinxing/4.gif","../static/emotions/jinxing/5.gif","../static/emotions/jinxing/6.gif"]}},a.config.mapAk="TVhjYjq1ICT2qqL5LdS8mwas",a.config.placeholder="请输入内容..."}),window.___EXT(function(a,b){a.UI={},a.UI.menus={"default":{normal:'<a href="#"><i class="wangeditor-menu-img-command"></i></a>',selected:".selected"},bold:{normal:'<a href="#"><i class="wangeditor-menu-img-bold"></i></a>',selected:".selected"},underline:{normal:'<a href="#"><i class="wangeditor-menu-img-underline"></i></a>',selected:".selected"},italic:{normal:'<a href="#"><i class="wangeditor-menu-img-italic"></i></a>',selected:".selected"},forecolor:{normal:'<a href="#"><i class="wangeditor-menu-img-pencil"></i></a>',selected:".selected"},bgcolor:{normal:'<a href="#"><i class="wangeditor-menu-img-brush"></i></a>',selected:".selected"},strikethrough:{normal:'<a href="#"><i class="wangeditor-menu-img-strikethrough"></i></a>',selected:".selected"},eraser:{normal:'<a href="#"><i class="wangeditor-menu-img-eraser"></i></a>',selected:".selected"},quote:{normal:'<a href="#"><i class="wangeditor-menu-img-quotes-left"></i></a>',selected:".selected"},source:{normal:'<a href="#"><i class="wangeditor-menu-img-code"></i></a>',selected:".selected"},fontfamily:{normal:'<a href="#"><i class="wangeditor-menu-img-font2"></i></a>',selected:".selected"},fontsize:{normal:'<a href="#"><i class="wangeditor-menu-img-text-height"></i></a>',selected:".selected"},head:{normal:'<a href="#"><i class="wangeditor-menu-img-header"></i></a>',selected:".selected"},orderlist:{normal:'<a href="#"><i class="wangeditor-menu-img-list-numbered"></i></a>',selected:".selected"},unorderlist:{normal:'<a href="#"><i class="wangeditor-menu-img-list-bullet"></i></a>',selected:".selected"},alignleft:{normal:'<a href="#"><i class="wangeditor-menu-img-align-left"></i></a>',selected:".selected"},aligncenter:{normal:'<a href="#"><i class="wangeditor-menu-img-align-center"></i></a>',selected:".selected"},alignright:{normal:'<a href="#"><i class="wangeditor-menu-img-align-right"></i></a>',selected:".selected"},link:{normal:'<a href="#"><i class="wangeditor-menu-img-link"></i></a>',selected:".selected"},unlink:{normal:'<a href="#"><i class="wangeditor-menu-img-unlink"></i></a>',selected:".selected"},table:{normal:'<a href="#"><i class="wangeditor-menu-img-table"></i></a>',selected:".selected"},emotion:{normal:'<a href="#"><i class="wangeditor-menu-img-happy"></i></a>',selected:".selected"},img:{normal:'<a href="#"><i class="wangeditor-menu-img-picture"></i></a>',selected:".selected"},vedio:{normal:'<a href="#"><i class="wangeditor-menu-img-play"></i></a>',selected:".selected"},location:{normal:'<a href="#"><i class="wangeditor-menu-img-location"></i></a>',selected:".selected"}}}),window.___EXT(function(a,b){a.fn.initDefaultConfig=function(){var c=this;c.config=b.extend({},a.config),c.UI=b.extend({},a.UI)}}),window.___EXT(function(a,b){a.fn.addTxt=function(){var b=this,c=new a.Txt(b);b.txt=c}}),window.___EXT(function(a,b){a.fn.addEditorContainer=function(){var a=b('<div class="wangEditor-container"></div>');this.$editorContainer=a}}),window.___EXT(function(a,b){a.fn.addMenuContainer=function(){var b=this;b.menuContainer=new a.MenuContainer(b)}}),window.___EXT(function(a,b){a.createMenuFns=[],a.menuFn=function(b){a.createMenuFns.push(b)},a.fn.addMenus=function(){var c=this;b.each(a.createMenuFns,function(a,b){b.call(c)})}}),window.___EXT(function(a,b){a.menuFn(function(){var b=this,c="bold",d=b.config.lang,e=new a.Menu({editor:b,id:c,title:d.bold,commandName:"Bold"});e.clickEventSelected=function(a){var c=b.isRangeEmpty();c?b.commandForElem("b,strong,h1,h2,h3,h4,h5",a,"Bold"):b.command(a,"Bold")},b.menus[c]=e})}),window.___EXT(function(a,b){a.menuFn(function(){var b=this,c="underline",d=b.config.lang,e=new a.Menu({editor:b,id:c,title:d.underline,commandName:"Underline"});e.clickEventSelected=function(a){var c=b.isRangeEmpty();c?b.commandForElem("u,a",a,"Underline"):b.command(a,"Underline")},b.menus[c]=e})}),window.___EXT(function(a,b){a.menuFn(function(){var b=this,c="italic",d=b.config.lang,e=new a.Menu({editor:b,id:c,title:d.italic,commandName:"Italic"});e.clickEventSelected=function(a){var c=b.isRangeEmpty();c?b.commandForElem("i",a,"Italic"):b.command(a,"Italic")},b.menus[c]=e})}),window.___EXT(function(a,b){a.menuFn(function(){var c=this,d="forecolor",e=c.config.lang,f=c.config.colors,g=new a.Menu({editor:c,id:d,title:e.forecolor}),h=b("<div></div>");b.each(f,function(a,b){h.append(['<a href="#" class="color-item"','    title="'+b+'" commandValue="'+a+'" ','    style="color: '+a+'" ','><i class="wangeditor-menu-img-pencil"></i></a>'].join(""))}),h.on("click","a[commandValue]",function(a){var d=b(this),e=d.attr("commandValue");g.selected&&c.isRangeEmpty()?c.commandForElem("font[color]",a,"forecolor",e):c.command(a,"forecolor",e)}),g.dropPanel=new a.DropPanel(c,g,{$content:h,width:125}),g.updateSelectedEvent=function(){var a=c.getRangeElem();return a=c.getSelfOrParentByName(a,"font[color]"),a?!0:!1},c.menus[d]=g})}),window.___EXT(function(a,b){a.menuFn(function(){function c(a){var b;return a&&a.style&&null!=a.style.cssText&&(b=a.style.cssText,b&&b.indexOf("background-color:")>=0)?!0:!1}var d=this,e="bgcolor",f=d.config.lang,g=d.config.colors,h=new a.Menu({editor:d,id:e,title:f.bgcolor}),i=b("<div></div>");b.each(g,function(a,b){i.append(['<a href="#" class="color-item"','    title="'+b+'" commandValue="'+a+'" ','    style="color: '+a+'" ','><i class="wangeditor-menu-img-brush"></i></a>'].join(""))}),i.on("click","a[commandValue]",function(a){var e=b(this),f=e.attr("commandValue");h.selected&&d.isRangeEmpty()?d.commandForElem({selector:"span,font",check:c},a,"BackColor",f):d.command(a,"BackColor",f)}),h.dropPanel=new a.DropPanel(d,h,{$content:i,width:125}),h.updateSelectedEvent=function(){var a=d.getRangeElem();return a=d.getSelfOrParentByName(a,"span,font",c),a?!0:!1},d.menus[e]=h})}),window.___EXT(function(a,b){a.menuFn(function(){var b=this,c="strikethrough",d=b.config.lang,e=new a.Menu({editor:b,id:c,title:d.strikethrough,commandName:"StrikeThrough"});e.clickEventSelected=function(a){var c=b.isRangeEmpty();c?b.commandForElem("strike",a,"StrikeThrough"):b.command(a,"StrikeThrough")},b.menus[c]=e})}),window.___EXT(function(a,b){a.menuFn(function(){var c=this,d="eraser",e=c.config.lang,f=new a.Menu({editor:c,id:d,title:e.eraser,commandName:"RemoveFormat"});f.clickEvent=function(a){function d(){var a,c,d,e,f,h,i,j=this;a=j.getRangeElem(),e=j.getSelfOrParentByName(a,"blockquote"),e&&(f=b(e),g=b("<p>"+f.text()+"</p>"),f.after(g).remove()),c=j.getSelfOrParentByName(a,"p,h1,h2,h3,h4,h5"),c&&(d=b(c),g=b("<p>"+d.text()+"</p>"),d.after(g).remove()),h=j.getSelfOrParentByName(a,"ul,ol"),h&&(i=b(h),g=b("<p>"+i.text()+"</p>"),i.after(g).remove())}function e(){var a=this;g&&a.restoreSelectionByElem(g.get(0))}var f=c.isRangeEmpty();if(!f)return void c.command(a,"RemoveFormat");var g;c.customCommand(a,d,e)},c.menus[d]=f})}),window.___EXT(function(a,b){a.menuFn(function(){var c=this,d="source",e=c.config.lang,f=new a.Menu({editor:c,id:d,title:e.source});f.isShowCode=!1,f.clickEvent=function(a){var c=this,d=c.editor,e=d.txt.$txt;c.$codeTextarea||(c.$codeTextarea=b('<textarea class="code-textarea" style="height:'+e.outerHeight()+'px;"></textarea>'));var g=c.$codeTextarea;g.val(e.html()),e.after(g).hide(),g.show(),f.isShowCode=!0,this.updateSelected(),d.disableMenusExcept("source")},f.clickEventSelected=function(a){var b=this,c=b.editor,d=c.txt.$txt,e=b.$codeTextarea;e&&(d.html(e.val()),e.after(d).hide(),d.show(),f.isShowCode=!1,this.updateSelected(),c.enableMenusExcept("source"))},f.updateSelectedEvent=function(){return this.isShowCode},c.menus[d]=f})}),window.___EXT(function(a,b){a.menuFn(function(){var c=this,d="quote",e=c.config.lang,f=new a.Menu({editor:c,id:d,title:e.quote,commandName:"formatBlock",commandValue:"blockquote"});f.clickEvent=function(a){function d(){f=b(g),h=b("<p>"+f.text()+"</p>"),f.after(h).remove(),h.wrap("<blockquote>")}function e(){var a=this;h&&a.restoreSelectionByElem(h.get(0))}var f,g=c.getRangeElem();if(!g)return void a.preventDefault();var h,i=c.getSelfOrParentByName(g,"blockquote");return i?void a.preventDefault():(g=c.getLegalTags(g))?void c.customCommand(a,d,e):void c.command(a,"formatBlock","blockquote")},f.clickEventSelected=function(a){function d(){var a,c;return a=b(g),c=a.children(),c.length?(c.each(function(c){var d=b(this);"P"===d.get(0).nodeName?a.after(d):a.after("<p>"+d.text()+"</0>"),h=d}),void a.remove()):void 0}function e(){var a=this;h&&a.restoreSelectionByElem(h.get(0))}var f,g,h;return f=c.getRangeElem(),(g=c.getSelfOrParentByName(f,"blockquote"))?void c.customCommand(a,d,e):void a.preventDefault()},f.updateSelectedEvent=function(){var a,b=this,c=b.editor;return a=c.getRangeElem(),a=c.getSelfOrParentByName(a,"blockquote"),a?!0:!1},c.menus[d]=f,c.ready(function(){var a=this,c=a.txt.$txt,d=!1;c.on("keydown",function(c){if(13!==c.keyCode)return void(d=!1);var e=a.getRangeElem();if(e=a.getSelfOrParentByName(e,"blockquote"),!e)return void(d=!1);if(!d)return void(d=!0);var f=a.getRangeElem(),g=b(f);g.length&&g.parent().after(g),a.restoreSelectionByElem(f,"start"),d=!1,c.preventDefault()})})})}),window.___EXT(function(a,b){a.menuFn(function(){var c=this,d="fontfamily",e=c.config.lang,f=c.config.familys,g=new a.Menu({editor:c,id:d,title:e.fontfamily,commandName:"fontName"}),h={};b.each(f,function(a,b){h[b]=b});var i='<span style="font-family:{#commandValue};">{#title}</span>';g.dropList=new a.DropList(c,g,{data:h,tpl:i,selectorForELemCommand:"font[face]"}),g.updateSelectedEvent=function(){var a=c.getRangeElem();return a=c.getSelfOrParentByName(a,"font[face]"),a?!0:!1},c.menus[d]=g})}),window.___EXT(function(a,b){a.menuFn(function(){var b=this,c="fontsize",d=b.config.lang,e=b.config.fontsizes,f=new a.Menu({
editor:b,id:c,title:d.fontsize,commandName:"fontSize"}),g=e,h='<span style="font-size:{#title};">{#title}</span>';f.dropList=new a.DropList(b,f,{data:g,tpl:h,selectorForELemCommand:"font[size]"}),f.updateSelectedEvent=function(){var a=b.getRangeElem();return a=b.getSelfOrParentByName(a,"font[size]"),a?!0:!1},b.menus[c]=f})}),window.___EXT(function(a,b){a.menuFn(function(){var b=this,c="head",d=b.config.lang,e=new a.Menu({editor:b,id:c,title:d.head,commandName:"formatBlock"}),f={"<h1>":"标题1","<h2>":"标题2","<h3>":"标题3","<h4>":"标题4","<h5>":"标题5"},g="{#commandValue}{#title}";e.dropList=new a.DropList(b,e,{data:f,tpl:g}),e.updateSelectedEvent=function(){var a=b.getRangeElem();return a=b.getSelfOrParentByName(a,"h1,h2,h3,h4,h5"),a?!0:!1},b.menus[c]=e})}),window.___EXT(function(a,b){a.menuFn(function(){var b=this,c="unorderlist",d=b.config.lang,e=new a.Menu({editor:b,id:c,title:d.unorderlist,commandName:"InsertUnorderedList"});b.menus[c]=e})}),window.___EXT(function(a,b){a.menuFn(function(){var b=this,c="orderlist",d=b.config.lang,e=new a.Menu({editor:b,id:c,title:d.orderlist,commandName:"InsertOrderedList"});b.menus[c]=e})}),window.___EXT(function(a,b){a.menuFn(function(){var b=this,c="alignleft",d=b.config.lang,e=new a.Menu({editor:b,id:c,title:d.alignleft,commandName:"JustifyLeft"});e.updateSelectedEvent=function(){var a=b.getRangeElem();return a=b.getSelfOrParentByName(a,"p,h1,h2,h3,h4,h5,li",function(a){var b;return a&&a.style&&null!=a.style.cssText&&(b=a.style.cssText,b&&/text-align:\s*left;/.test(b))?!0:!1}),a?!0:!1},b.menus[c]=e})}),window.___EXT(function(a,b){a.menuFn(function(){var b=this,c="aligncenter",d=b.config.lang,e=new a.Menu({editor:b,id:c,title:d.aligncenter,commandName:"JustifyCenter"});e.updateSelectedEvent=function(){var a=b.getRangeElem();return a=b.getSelfOrParentByName(a,"p,h1,h2,h3,h4,h5,li",function(a){var b;return a&&a.style&&null!=a.style.cssText&&(b=a.style.cssText,b&&/text-align:\s*center;/.test(b))?!0:!1}),a?!0:!1},b.menus[c]=e})}),window.___EXT(function(a,b){a.menuFn(function(){var b=this,c="alignright",d=b.config.lang,e=new a.Menu({editor:b,id:c,title:d.alignright,commandName:"JustifyRight"});e.updateSelectedEvent=function(){var a=b.getRangeElem();return a=b.getSelfOrParentByName(a,"p,h1,h2,h3,h4,h5,li",function(a){var b;return a&&a.style&&null!=a.style.cssText&&(b=a.style.cssText,b&&/text-align:\s*right;/.test(b))?!0:!1}),a?!0:!1},b.menus[c]=e})}),window.___EXT(function(a,b){a.menuFn(function(){var c=this,d="link",e=c.config.lang,f=new a.Menu({editor:c,id:d,title:e.link}),g=b("<div></div>"),h=b('<div style="margin:20px 10px;" class="clearfix"></div>'),i=h.clone(),j=h.clone().css("margin","0 10px"),k=b('<input type="text" class="block" placeholder="'+e.text+'"/>'),l=b('<input type="text" class="block" placeholder="'+e.link+'"/>'),m=b('<button class="right">'+e.submit+"</button>"),n=b('<button class="right gray">'+e.cancel+"</button>");h.append(k),i.append(l),j.append(m).append(n),g.append(h).append(i).append(j),f.dropPanel=new a.DropPanel(c,f,{$content:g,width:300}),f.clickEvent=function(a){var b=this,d=b.dropPanel;if(d.isShowing)return void d.hide();k.val(""),l.val("");var e="",f=c.getRangeElem();f=c.getSelfOrParentByName(f,"a"),f&&(e=f.href||"");var g="",h=c.isRangeEmpty();h?f&&(g=f.textContent||f.innerHTML):g=c.getRangeText()||"",e&&l.val(e),g&&k.val(g),h?k.removeAttr("disabled"):k.attr("disabled",!0),d.show()},f.updateSelectedEvent=function(){var a=c.getRangeElem();return a=c.getSelfOrParentByName(a,"a"),a?!0:!1},n.click(function(){f.dropPanel.hide()}),m.click(function(d){var e,g,h,i,j,m,n=c.getRangeElem(),o=c.getSelfOrParentByName(n,"a"),p=c.isRangeEmpty(),q=c.txt.$txt,r="link"+a.random(),s=b.trim(l.val()),t=b.trim(k.val());return s?(t||(t=s),void(p?o?(e=b(o),h=function(){e.attr("href",s),e.text(t)},i=function(){var a=this;a.restoreSelectionByElem(o)},c.customCommand(d,h,i)):(g='<a href="'+s+'" target="_blank">'+t+"</a>",c.command(d,"insertHtml",g)):(j=q.find("a"),j.attr(r,"1"),c.command(d,"createLink",s),m=q.find("a").not("["+r+"]"),m.attr("target","_blank"),j.removeAttr(r)))):void f.dropPanel.focusFirstInput()}),c.menus[d]=f})}),window.___EXT(function(a,b){a.menuFn(function(){var c=this,d="unlink",e=c.config.lang,f=new a.Menu({editor:c,id:d,title:e.unlink,commandName:"unLink"});f.clickEvent=function(a){function d(){i.after(j).remove()}function e(){c.restoreSelectionByElem(j.get(0))}var f=c.isRangeEmpty();if(!f)return void c.command(a,"unLink");var g=c.getRangeElem(),h=c.getSelfOrParentByName(g,"a");if(!h)return void a.preventDefault();var i=b(h),j=b("<span>"+i.text()+"</span>");c.customCommand(a,d,e)},c.menus[d]=f})}),window.___EXT(function(a,b){a.menuFn(function(){var c,d,e,f=this,g="table",h=f.config.lang,i=new a.Menu({editor:f,id:g,title:h.table}),j=b('<div style="font-size: 12px; color: #666; text-align:right;"></div>'),k=b('<table class="choose-table" style="margin-bottom:10px;margin-top:5px;">'),l=b("<span>0</span>"),m=b("<span> 行 </span>"),n=b("<span>0</span>"),o=b("<span> 列</span>");for(d=0;10>d;d++){for(c=b('<tr index="'+(d+1)+'">'),e=0;10>e;e++)c.append(b('<td index="'+(e+1)+'">'));k.append(c)}j.append(k),j.append(l).append(m).append(n).append(o),k.on("mouseenter","td",function(a){var c=b(a.currentTarget),d=c.attr("index"),e=c.parent(),f=e.attr("index");l.text(f),n.text(d),k.find("tr").each(function(){var a=b(this),c=a.attr("index");parseInt(c,10)<=parseInt(f,10)?a.find("td").each(function(){var a=b(this),c=a.attr("index");parseInt(c,10)<=parseInt(d,10)?a.addClass("active"):a.removeClass("active")}):a.find("td").removeClass("active")})}).on("mouseleave",function(a){k.find("td").removeClass("active")}),k.on("click","td",function(a){var c,d,e=b(a.currentTarget),g=e.attr("index"),h=e.parent(),i=h.attr("index"),j=parseInt(i,10),k=parseInt(g,10),l="\n<table>";for(c=0;j>c;c++){for(l+="\n  <tr>",d=0;k>d;d++)l+="\n    <td><span>&nbsp;</span></td>";l+="\n  </tr>"}l+="\n</table>\n",f.command(a,"insertHtml",l)}),i.dropPanel=new a.DropPanel(f,i,{$content:j,width:141}),f.menus[g]=i})}),window.___EXT(function(a,b){a.menuFn(function(){var c=this,d="emotion",e=c.config.lang,f=c.config.emotions,g=new RegExp(a.website,"i"),h=!0,i=new a.Menu({editor:c,id:d,title:e.emotion}),j=b('<div class="panel-tab"></div>'),k=b('<div class="tab-container"></div>'),l=b('<div class="content-container"></div>');b.each(f,function(c,d){var e=d.title,f=d.size,i=d.imgs,j=b('<a href="#">'+e+" </a>");k.append(j);var m=b('<div class="content"></div>');l.append(m),b.each(i,function(c,d){g.test(d)&&h&&(a.warn("检测到有默认的表情图标，这样会影响网页加载速度。建议自定义配置表情图标，详情参考文档说明"),h=!1);var e=b('<a href="#" commandValue="'+d+'"></a>'),i=b("<img>");i.css({width:f+"px",height:f+"px"}),i.attr("_src",d),e.append(i),m.append(e)}),j.click(function(a){k.children().removeClass("selected"),l.children().removeClass("selected"),m.addClass("selected"),j.addClass("selected"),a.preventDefault()})}),j.append(k).append(l),k.children().first().addClass("selected"),l.children().first().addClass("selected"),l.on("click","a[commandValue]",function(a){var d=b(a.currentTarget),e=d.attr("commandValue");c.command(a,"InsertImage",e)}),i.dropPanel=new a.DropPanel(c,i,{$content:j,width:350}),i.clickEvent=function(a){var c=this,d=c.dropPanel;return d.isShowing?void d.hide():(d.show(),void(c.imgLoaded||(c.imgLoaded=!0,l.find("img").each(function(){var a=b(this);a.attr("src",a.attr("_src")),a.removeAttr("_src")}))))},c.menus[d]=i})}),window.___EXT(function(a,b){function c(a,b,c){}function d(a,c,d){function e(){h.val("")}var f=a.config.lang,g=b('<div style="margin:20px 10px 10px 10px;"></div>'),h=b('<input type="text" class="block" placeholder="http://"/>');g.append(h);var i=b('<button class="right">'+f.submit+"</button>"),j=b('<button class="right gray">'+f.cancel+"</button>");d.append(g).append(i).append(j),j.click(function(){c.dropPanel.hide()}),i.click(function(c){var d=b.trim(h.val());if(!d)return c.preventDefault(),void h.focus();var f='<img style="max-width:100%;" src="'+d+'"/>';a.command(c,"insertHtml",f,e)})}a.menuFn(function(){var e=this,f="img",g=e.config.lang,h=new a.Menu({editor:e,id:f,title:g.img}),i=b('<div class="panel-tab"></div>'),j=b('<div class="tab-container"></div>'),k=b('<div class="content-container"></div>');i.append(j).append(k);var l=b('<a href="#" class="selected">上传图片</a>'),m=b('<a href="#">网络图片</a>');j.append(l).append(m),l.click(function(a){j.children().removeClass("selected"),k.children().removeClass("selected"),n.addClass("selected"),l.addClass("selected"),a.preventDefault()}),m.click(function(b){j.children().removeClass("selected"),k.children().removeClass("selected"),o.addClass("selected"),m.addClass("selected"),b.preventDefault(),a.placeholder&&o.find("input[type=text]").focus()});var n=b('<div class="content selected"></div>');k.append(n),c(e,h,n);var o=b('<div class="content"></div>');k.append(o),d(e,h,o),h.dropPanel=new a.DropPanel(e,h,{$content:i,width:400}),e.menus[f]=h})}),window.___EXT(function(a,b){a.menuFn(function(){var c=this,d="vedio",e=c.config.lang,f=/^\s*(http:\/\/|https:\/\/).+(\.swf|\.ogg|\.mp4|\.webm)/i,g=new a.Menu({editor:c,id:d,title:e.vedio,commandName:"unLink"}),h=['<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" ','        codebase="http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=7,0,0,0" ','        width="#{width}" ','        height="#{height}" >','   <param name="movie" ','          value="#{vedioUrl}" />','   <param name="allowFullScreen" value="true" />','   <param name="allowScriptAccess" value="always" />','   <param value="transparent" name="wmode" />','   <embed src="#{vedioUrl}"','          width="#{width}" ','          height="#{height}" ','          name="cc_8E6888CDEA7087C49C33DC5901307461" ','          allowFullScreen="true" ','          wmode="transparent" ','          allowScriptAccess="always" ','          pluginspage="http://www.macromedia.com/go/getflashplayer" ','          type="application/x-shockwave-flash"/>',"</object>","<p><br></p>"].join(""),i=['<video src="#{vedioUrl}" controls="controls" width="#{width}" height="#{height}">',"</video>","<p><br></p>"].join(""),j=b("<div></div>"),k=b('<div style="margin:20px 10px;"></div>'),l=b('<input type="text" class="block" placeholder="*.swf, *.mp4, *.ogg, *.webm"/>');k.append(l);var m=b('<div style="margin:20px 10px;"></div>'),n=b('<input type="text" value="480" style="width:50px;text-align:center;"/>'),o=b('<input type="text" value="360" style="width:50px;text-align:center;"/>');m.append("<span> "+e.width+" </span>").append(n).append("<span> px &nbsp;&nbsp;&nbsp;</span>").append("<span> "+e.height+" </span>").append(o).append("<span> px </span>");var p=b("<div></div>"),q=b('<button class="right">'+e.submit+"</button>"),r=b('<button class="right gray">'+e.cancel+"</button>");p.append(q).append(r),j.append(k).append(m).append(p),r.click(function(){l.val(""),g.dropPanel.hide()}),q.click(function(a){var d,e=b.trim(l.val()),j=parseInt(n.val()),k=parseInt(o.val());return e?f.test(e)?isNaN(j)||isNaN(k)?void alert("宽度或高度不是数字！"):(d=/.swf/i.test(e)?h.replace(/#{vedioUrl}/gi,e).replace(/#{width}/gi,j).replace(/#{height}/gi,k):i.replace(/#{vedioUrl}/gi,e).replace(/#{width}/gi,j).replace(/#{height}/gi,k),c.command(a,"insertHtml",d),void l.val("")):(alert("视频链接格式错误！"),void g.dropPanel.focusFirstInput()):void g.dropPanel.focusFirstInput()}),g.dropPanel=new a.DropPanel(c,g,{$content:j,width:400}),c.menus[d]=g})}),window.___EXT(function(a,b){function c(a){var b=document.createElement("script");b.type="text/javascript",b.src="http://api.map.baidu.com/api?v=2.0&ak="+a+"&callback=baiduMapCallBack",document.body.appendChild(b)}function d(){if(g){var a,b,c=window.BMap,d=j.val(),e=k.val();""!==d&&(e&&""!==e||g.centerAndZoom(d,11),e&&""!==e&&(a=new c.Geocoder,a.getPoint(e,function(a){a?(g.centerAndZoom(a,13),b=new c.Marker(a),g.addOverlay(b),b.enableDragging(),h.push(b)):g.centerAndZoom(d,11)},d)))}}function e(){g&&(g.clearOverlays(),h=[])}function f(a,c,d){function f(){k.val("")}var l=a.config.lang,m=b('<div style="margin:10px 0;"></div>');j.css({width:"80px","text-align":"center"}),k.css({width:"300px","margin-left":"10px"}).attr("placeholder",l.searchlocation);var n=b('<button class="right link">'+l.clearLocation+"</button>");m.append(n).append(j).append(k),d.append(m),n.click(function(a){k.val(""),k.focus(),e(),a.preventDefault()});var o=b('<div id="'+i+'"></div>');o.css({height:"260px",width:"100%",position:"relative","margin-top":"10px",border:"1px solid #f1f1f1"});var p=b("<span>"+l.loading+"</span>");p.css({position:"absolute",width:"100px","text-align":"center",top:"45%",left:"50%","margin-left":"-50px"}),o.append(p),d.append(o);var q=b('<div style="margin:10px 0;"></div>'),r=b('<button class="right">'+l.submit+"</button>"),s=b('<button class="right gray">'+l.cancel+"</button>"),t=b('<label style="display:inline-block;margin-top:10px;color:#666;"></label>'),u=b('<input type="checkbox">');t.append(u).append('<span style="display:inline-block;margin-left:5px;">  '+l.dynamicMap+"</span>"),q.append(t).append(r).append(s),d.append(q),s.click(function(a){f(),c.dropPanel.hide(),a.preventDefault()}),r.click(function(c){var d,e,i,j=u.is(":checked"),k=g.getCenter(),m=k.lng,n=k.lat,o=g.getZoom(),p=g.getSize(),q=p.width,r=p.height;if(e=j?"http://ueditor.baidu.com/ueditor/dialogs/map/show.html#":"http://api.map.baidu.com/staticimage?",e=e+"center="+m+","+n+"&zoom="+o+"&width="+q+"&height="+r,h.length>0&&(e+="&markers=",b.each(h,function(a,b){d=b.getPosition(),a>0&&(e+="|"),e=e+d.lng+","+d.lat})),j){if(h.length>1)return void alert(l.langDynamicOneLocation);e+="&markerStyles=l,A",i='<iframe class="ueditor_baidumap" src="{src}" frameborder="0" width="'+q+'" height="'+r+'"></iframe>',i=i.replace("{src}",e),a.command(c,"insertHTML",i,f)}else a.command(c,"insertHTML",'<img style="max-width:100%;" src="'+e+'"/>',f)})}var g,h=[],i="map"+a.random(),j=b('<input type="text"/>'),k=b('<input type="text"/>');window.baiduMapCallBack=function(){function b(b){function c(a){"keyup"===a.type&&13===a.keyCode&&a.preventDefault(),f&&clearTimeout(f),f=setTimeout(d,500)}var e=b.name;g.setCenter(e),j.val(e),a.placeholder&&k.focus();var f;j.on("keyup change paste",c),k.on("keyup change paste",c)}var c=window.BMap;g=new c.Map(i),g.centerAndZoom(new c.Point(116.404,39.915),11),g.addControl(new c.MapTypeControl),g.setCurrentCity("北京"),g.enableScrollWheelZoom(!0);var e=new c.LocalCity;e.get(b),g.addEventListener("click",function(a){var b=new c.Marker(new c.Point(a.point.lng,a.point.lat));g.addOverlay(b),b.enableDragging(),h.push(b)})},a.menuFn(function(){var d=this,e="location",h=d.config,i=h.lang,j=h.mapAk,l=new a.Menu({editor:d,id:e,title:i.location});l.clickEvent=function(b){var d=this,e=d.dropPanel,f=!1;return e.isShowing?void e.hide():(g||(f=!0,c(j),"TVhjYjq1ICT2qqL5LdS8mwas"===j&&a.warn("建议在配置中自定义百度地图的mapAk，否则可能影响地图功能")),e.show(),void(f||k.focus()))};var m=b("<div></div>");f(d,l,m),l.dropPanel=new a.DropPanel(d,l,{$content:m,width:500}),d.menus[e]=l})}),window.___EXT(function(a,b){a.fn.renderMenus=function(){var a,c=this,d=c.menus,e=c.config.menus,f=(c.menuContainer,{}),g=0;b.each(e,function(b,c){return"|"===c?void g++:(a=d[c],void(a&&(a.render(g),f[c]=a)))}),c.menus=f}}),window.___EXT(function(a,b){a.fn.renderMenuContainer=function(){var a=this,b=a.menuContainer;a.$editorContainer;b.render()}}),window.___EXT(function(a,b){a.fn.renderTxt=function(){var a=this,b=(a.$editorContainer,a.txt);b.render(),a.ready(function(){b.initHeight()})}}),window.___EXT(function(a,b){a.fn.renderEditorContainer=function(){var a=this,b=a.$valueContainer,c=a.$editorContainer;b.after(c),b.hide()}}),window.___EXT(function(a,b){a.fn.eventMenus=function(){var a=this.menus;b.each(a,function(a,b){b.bindEvent()})}}),window.___EXT(function(a,b){a.fn.eventMenuContainer=function(){}}),window.___EXT(function(a,b){a.fn.eventTxt=function(){var a=this.txt;a.saveSelectionEvent(),a.updateValueEvent(),a.updateMenuStyleEvent(),a.showHeightOnHover()}}),window.___EXT(function(a,b){a.info("本页面富文本编辑器由 wangEditor 提供 http://wangeditor.github.io/ ")});